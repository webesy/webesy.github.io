
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, intial-scale=1.0">
    <title>GTFP Routing Leaflet TEST</title>

    <!--leaflet css -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
    crossorigin=""/>
    <!-- leaflet routing machine css -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />


    <style>

        body {
            margin: 0;
            padding: 0;
        }
        #map {
            width: 100%;
            height: 100vh;
        }
    </style>
    
</head>

<body>
    <div id="map"></div>
</body>

</html> 

<!-- leaflet js -->
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
     integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
     crossorigin=""></script>

<!--leaflet routing machine js -->
<script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>

<script>
    //Map Initialization
    var map = L.map('map').setView([-37.822, 140.782], 10);

    // MAP LAYERS & CONTROL//
    //OPEN STREET MAP Base Layer
    var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 20,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
    continuousWorld: true,
    tileSize: 256,
    });
    //OPEN STREET MAP TOPO Layer
    var TopoMap = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
	maxZoom: 17,
	attribution: 'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
});
    //Google Streets Layer
    var googleStreets = L.tileLayer('http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}',{
    maxZoom: 20,
    subdomains:['mt0','mt1','mt2','mt3']
})
    //Google Satellite Layer
    var googleSat = L.tileLayer('http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}',{
    maxZoom: 20,
    subdomains:['mt0','mt1','mt2','mt3']
});
   
    //Layer Controller
    var baseMaps = {
        "Open Street Map": osm,
        "Open Street Map Topo": TopoMap,
        "Google Streets": googleStreets,
        "Google Satellite": googleSat
    };

    L.control.layers(baseMaps).addTo(map);

    googleStreets.addTo(map);
    //googleSat.addTo(map);
    //osm.addTo(map);
    //TopoMap.addTo(map);

// MARKER and Routing Functionality //
// marker
    var marker = L.marker([-37.822, 140.782]).addTo(map)

// map click event
    map.on('click', function(e){
    console.log(e)
    var marker = L.marker([e.latlng.lat, e.latlng.lng]).addTo(map);

    L.Routing.control({
    waypoints: [
        L.latLng(-37.822, 140.782),
        L.latLng(e.latlng.lat, e.latlng.lng)
        ]
    }).addTo(map);
})
</script>